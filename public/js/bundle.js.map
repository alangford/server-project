{"version":3,"sources":["app.js","homeCtrl.js","hotDirect.js","loginCtrl.js","mainService.js","randomNameDirec.js","singleGameCtrl.js"],"names":["angular","module","config","$urlRouterProvider","$stateProvider","when","state","templateUrl","url","controller","$scope","mainService","$stateParams","searching","getUser","then","user","loggedIn","search","st","loading","length","getGameList","re","gameslist","alert","directive","restrict","link","scope","ele","attr","getWhatsHot","res","whatsHot","$","document","ready","slick","vertical","draggable","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","prevArrow","nextArrow","responsive","breakpoint","settings","$state","username","getGameListByUser","userGames","data","logout","service","$http","this","getBgs","method","items","item","list","boardgames","boardgame","i","name","_","getGame","game","primary","description","split","join","getGameReview","getRules","id","addData","gameId","img","desc","average","min","max","cat","hasGame","deleteGame","addReviews","objectid","review","stars","getReviews","catch","err","console","log","template","random","Math","floor","random2","random3","BGS","b","toUpperCase","slice","g","s","inCollection","rules","rulesurl","thereisrules","result","videoID","videoId","totalReview","avg","reviews","addToData","thumbnail","year","minPlayers","maxPlayers","boardgamecategory","newCategory","push","deleteUserGame","addReview"],"mappings":"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","file":"bundle.js","sourcesContent":["/**\r\n * Created by beebe on 4/2/2017.\r\n */\r\nangular.module(`app`, [`ui.router`,`ngYoutubeEmbed`]).config(($urlRouterProvider,$stateProvider) => {\r\n    $urlRouterProvider.when(``, `/`);\r\n\r\n    $stateProvider\r\n        .state(`home`, {\r\n            templateUrl: `views/home.html`,\r\n            url: `/`,\r\n            controller:`homeCtrl`\r\n        })\r\n        .state(`contact`, {\r\n            templateUrl: `views/contact.html`,\r\n            url: `/contact`\r\n        })\r\n        .state(`singleGame`,{\r\n            templateUrl:`views/singleGame.html`,\r\n            url:`/games/:id`,\r\n            controller:`singleGameCtrl`\r\n        })\r\n        .state(`login`, {\r\n            templateUrl:`views/login.html`,\r\n            url:`/login`,\r\n            controller: `loginCtrl`\r\n        })\r\n        .state(`payment`,{\r\n            templateUrl:`views/paymentSuccess.html`,\r\n            url:`/paymentSuccess`,\r\n        })\r\n});","/**\r\n * Created by beebe on 4/3/2017.\r\n */\r\nangular.module(`app`).controller(`homeCtrl`, function($scope,mainService, $stateParams){\r\n    $scope.searching = false;\r\n    const getUser = () =>{\r\n        mainService.getUser().then(function (user) {\r\n            if (user) {\r\n                $scope.loggedIn = true\r\n            }\r\n            else   $scope.loggedIn = false\r\n        })\r\n    };\r\n    getUser();\r\n    $scope.search =  (st)=>{\r\n        $scope.loading = true;\r\n        $scope.st = ``;\r\n        $scope.searching = true;\r\n        if(st.length > 4 && st !== ``){\r\n            mainService.getGameList(st).then(re =>{\r\n                $scope.gameslist = re;\r\n                $scope.loading = false;\r\n            })\r\n        }\r\n        else{\r\n            alert(`Sorry you have to be more specific`);\r\n            $scope.loading = false;\r\n        }\r\n    };\r\n\r\n\r\n});","/**\r\n * Created by beebe on 4/3/2017.\r\n */\r\nangular.module(`app`).directive(`hotDirect`,(mainService,$stateParams)=>{\r\n\r\n    return {\r\n        restrict:`E`,\r\n        templateUrl:`views/hot.html`,\r\n        link:(scope,ele,attr)=>{\r\n\r\n            mainService.getWhatsHot().then((res)=>{\r\n                scope.whatsHot = res;\r\n                $(document).ready(function(){\r\n                    $('#slider').slick({\r\n                        vertical: true,\r\n                        draggable:false,\r\n                        slidesToShow: 5,\r\n                        slidesToScroll: 1,\r\n                        autoplay: true,\r\n                        autoplaySpeed: 1500,\r\n                        prevArrow:`<button class=\"btn btn-primary center\" style=\"display: block;  padding: 1vh 5vw 1vh 5vw\"><i class=\"fa fa-arrow-up\" aria-hidden=\"true\"></i></button>`,\r\n                        nextArrow:`<button class=\"btn btn-primary center\" style=\"display: block; padding: 1vh 5vw 1vh 5vw\"><i class=\"fa fa-arrow-down\" aria-hidden=\"true\"></i></button>`,\r\n                        responsive: [\r\n                            {\r\n                                breakpoint: 1024,\r\n                                settings: {\r\n                                    slidesToShow: 4,\r\n                                    slidesToScroll: 1,\r\n                                }\r\n                            },\r\n                            {\r\n                                breakpoint: 768,\r\n                                settings: {\r\n                                    prevArrow:`<br>`,\r\n                                    nextArrow:`<br>`,\r\n                                    draggable:true,\r\n                                    vertical: false,\r\n                                    slidesToShow: 3,\r\n                                    slidesToScroll: 2\r\n                                }\r\n                            },\r\n                            {\r\n                                breakpoint: 480,\r\n                                settings: {\r\n                                    prevArrow:`<br>`,\r\n                                    nextArrow:`<br>`,\r\n                                    draggable:true,\r\n                                    vertical: false,\r\n                                    slidesToShow: 1,\r\n                                    slidesToScroll: 1\r\n                                }\r\n                            }\r\n                        ]\r\n                    });\r\n                });\r\n            });\r\n\r\n\r\n\r\n\r\n                }\r\n        }\r\n\r\n});","/**\r\n * Created by beebe on 4/3/2017.\r\n */\r\nangular.module(`app`).controller(`loginCtrl`, function($scope, mainService, $state) {\r\n    const getUser = () =>{\r\n        mainService.getUser().then(function (user) {\r\n            if (user) {\r\n                $scope.user = user.username;\r\n                $scope.loggedIn = true;\r\n                mainService.getGameListByUser().then(res =>{\r\n                    $(document).ready(function(){\r\n                        $('#collection-slide').slick({\r\n                            draggable:true,\r\n                            slidesToShow: 5,\r\n                            slidesToScroll: 1,\r\n                            autoplay: true,\r\n                            autoplaySpeed: 1500,\r\n                            prevArrow:`<br>`,\r\n                            nextArrow:`<br>`,\r\n                            responsive: [\r\n                                {\r\n                                    breakpoint: 480,\r\n                                    settings: {\r\n                                        prevArrow:`<br>`,\r\n                                        nextArrow:`<br>`,\r\n                                        draggable:true,\r\n                                        slidesToShow: 1,\r\n                                        slidesToScroll: 1\r\n                                    }\r\n                                }\r\n                            ]\r\n                        });\r\n                    });\r\n                    $scope.userGames = res.data\r\n                })\r\n            }\r\n            else   $scope.user = 'You\\'re not logged in. in order to save a collection you will need to create an account or log in with Gmail, Facebook, Twitter or Linkedin.';\r\n        })\r\n    };\r\n    getUser();\r\n\r\n\r\n\r\n    $scope.logout = mainService.logout;\r\n\r\n\r\n\r\n\r\n});\r\n\r\n\r\n\r\n","/**\r\n * Created by beebe on 4/2/2017.\r\n */\r\nangular.module(`app`).service(`mainService`, function($http){\r\n\r\n    this.getBgs = () =>{\r\n        return $http({\r\n            method:`GET`,\r\n            url:`/randomName`\r\n        })\r\n    };\r\n\r\n    this.getWhatsHot = () =>{\r\n        return $http({\r\n            method:`GET`,\r\n            url:`/games/gamelist`\r\n        }).then(res=>{\r\n            return res.data.items.item\r\n        })\r\n    };\r\n    this.getGameList = st =>{\r\n        return $http({\r\n            method:`GET`,\r\n            url:`/games/gamelist/${st}`\r\n        })\r\n            .then(res => {\r\n                let list = res.data.boardgames.boardgame;\r\n                for(let i =0;i<list.length;i++){\r\n                    if(list[i].name[0]._){\r\n                        list[i].name = list[i].name[0]._\r\n                    }\r\n                    else list[i].name = list[i].name[0]\r\n                }\r\n                return list\r\n        })\r\n    };\r\n\r\n    this.getGame = game =>{\r\n        return $http({\r\n            method:`GET`,\r\n            url:`/games/gamesbyid/${game}`\r\n        }).then((res) =>{\r\n            let game = res.data.boardgames.boardgame[0];\r\n            for (let i =0;i<game.name.length; i++){\r\n                if(game.name[i].$.primary){\r\n                    game.name =  game.name[i]._;\r\n                    break\r\n                }\r\n            }\r\n            game.description[0] = game.description[0].split(`<br/>`).join(` `).split(`&quot`).join(` `).split(`&ouml;`).join(` `).split(`&rdquo;`).join(` `).split(`&ldquo;`).join(` `).split(`&rsquo;`).join(` `).split(`&ndash;`).join(` `);\r\n            return game\r\n        })\r\n    };\r\n\r\n    this.getGameReview = st =>{\r\n        return $http({\r\n            method:`GET`,\r\n            url:`games/gamebyid/review/${st}`\r\n        })\r\n    };\r\n\r\n    this.getRules = id =>{\r\n        return $http({\r\n            method:`GET`,\r\n            url:`/games/rules/${id}`\r\n        })\r\n    };\r\n\r\n    this.addData = (gameId,name,img,desc,average,min,max,cat) =>{\r\n        return $http({\r\n            method:`POST`,\r\n            url:`/user/savegames`,\r\n            data:{gameId,name, img, desc, average, min, max,cat}\r\n        })\r\n    };\r\n\r\n    this.getGameListByUser = () =>{\r\n        return $http({\r\n            method:`GET`,\r\n            url:`/user/savegames`\r\n        })\r\n    };\r\n    this.hasGame = (id) =>{\r\n        return $http({\r\n            method:`GET`,\r\n            url:`/user/savegames/${id}`\r\n        })\r\n    };\r\n\r\n    this.deleteGame  = id =>{\r\n        return $http({\r\n            method:`DELETE`,\r\n            url:`/user/savegames/${id}`\r\n        })\r\n    };\r\n\r\n    this.addReviews = (objectid,review,stars)=>{\r\n      return $http({\r\n          method:`POST`,\r\n          url:`/user/reviews`,\r\n          data:{objectid,review,stars}\r\n      })\r\n    };\r\n    this.getReviews = objectid =>{\r\n        return $http({\r\n            method:`GET`,\r\n            url:`/user/reviews/${objectid}`\r\n        })\r\n    };\r\n\r\n\r\n    this.getUser = function() {\r\n        return $http({\r\n            method: 'GET',\r\n            url: '/auth/me'\r\n        })\r\n            .then(function(res) {\r\n                return res.data;\r\n            })\r\n            .catch(function(err) {\r\n                console.log(err);\r\n            })\r\n    };\r\n\r\n    this.logout = function() {\r\n        return $http({\r\n            method: 'GET',\r\n            url: '/auth/logout'\r\n        })\r\n            .then(function(res) {\r\n                return res.data;\r\n            })\r\n            .catch(function(err) {\r\n                console.log(err);\r\n            })\r\n    }\r\n});","/**\r\n * Created by beebe on 4/4/2017.\r\n */\r\nangular.module(`app`).directive(`randomeNameDirect`,mainService =>{\r\n   return{\r\n       restrict:`E`,\r\n       template:`<span>{{BGS}}</span>`,\r\n       link:(scope,ele,attr) =>{\r\n           const getName = () =>{\r\n               let random = Math.floor((Math.random() * 37) + 1);\r\n               let random2 = Math.floor((Math.random() * 37) + 1);\r\n               let random3 = Math.floor((Math.random() * 37) + 1);\r\n               mainService.getBgs().then(res =>{\r\n                   scope.BGS = res.data[random].b[0].toUpperCase() + res.data[random].b.slice(1) + \" \" + res.data[random2].g[0].toUpperCase() + res.data[random2].g.slice(1) + \" \" + res.data[random3].s[0].toUpperCase() + res.data[random3].s.slice(1);\r\n\r\n               })\r\n           };\r\n           getName()\r\n       }\r\n   }\r\n});","/**\r\n * Created by beebe on 4/3/2017.\r\n */\r\nangular.module(`app`).controller(`singleGameCtrl`,function($scope, mainService, $stateParams){\r\n    const getUser = () =>{\r\n        mainService.getUser().then(function (user) {\r\n            if (user) {\r\n                $scope.loggedIn = true;\r\n                mainService.hasGame($stateParams.id).then(res=>{\r\n\r\n                    if(res.data[0]) $scope.inCollection = true;\r\n                    else $scope.inCollection = false\r\n                })\r\n            }\r\n            else   $scope.loggedIn = false\r\n        })\r\n    };\r\n    getUser();\r\n        mainService.getGame($stateParams.id).then((res) => {\r\n            mainService.getRules($stateParams.id).then(res=>{\r\n                if(!res.data[0]){\r\n                    $scope.thereisrules = [\"There are currently no rules for this game in the system.\", false]\r\n            }\r\n                else {\r\n                    $scope.rules = res.data[0].rulesurl;\r\n                    $scope.thereisrules = [`We have the rules!`, true];\r\n                }\r\n            });\r\n            mainService.getGameReview(res.name + ` Review`).then(result=>{\r\n                $scope.videoID = result.data[0].id.videoId\r\n            });\r\n            mainService.getReviews($stateParams.id).then(re => {\r\n               if(re){ let totalReview = 0;\r\n                   for(let i=0;i<re.data.length;i++){\r\n                       totalReview += re.data[i].stars\r\n                   }\r\n                   $scope.avg = totalReview / re.data.length;\r\n                   $scope.reviews = re.data}\r\n                   else console.log(`err`)\r\n            });\r\n            $scope.game = res\r\n        });\r\n\r\n\r\n\r\n\r\n        $scope.addToData = (gameId,name,thumbnail,description,year,minPlayers,maxPlayers,boardgamecategory) =>{\r\n            if(boardgamecategory){\r\n                let newCategory = []\r\n                for(let i=0;i<boardgamecategory.length;i++){\r\n                    newCategory.push(boardgamecategory[i]._)\r\n                }\r\n                mainService.addData(gameId,name,thumbnail,description,year,minPlayers,maxPlayers,newCategory).then(() =>{\r\n                   console.log(`i work`)\r\n                    $scope.inCollection = true;\r\n                })\r\n            }\r\n            else mainService.addData(gameId,name,thumbnail,description,year,minPlayers,maxPlayers,boardgamecategory).then(() =>{\r\n                $scope.inCollection = true;\r\n            })\r\n        };\r\n        $scope.deleteUserGame = (id) =>{\r\n            mainService.deleteGame(id).then(()=>{\r\n                $scope.inCollection = false\r\n            })\r\n    }\r\n\r\n    $scope.addReview = (objectid,review,stars) =>{\r\n            if(review.length > 10){\r\n                mainService.addReviews(objectid,review,stars).then(()=> {\r\n                    mainService.getReviews(objectid).then(re => {\r\n                        let totalReview = 0;\r\n                        for(let i=0;i<re.data.length;i++){\r\n                            totalReview += re.data[i].stars\r\n                        }\r\n                        $scope.review = ``;\r\n                        $scope.avg = totalReview / re.data.length;\r\n                        $scope.reviews = re.data;\r\n                    })\r\n                })\r\n            }\r\n            else alert(`Your review must be at least 10 characters.`)\r\n    }\r\n\r\n});"]}